<ion-app>
  <ion-menu contentId="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Param√®tres</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-item>
        <ion-toggle [(ngModel)]="themeToggle" (ionChange)="toggleChange($event)" justify="space-between">Dark Mode</ion-toggle>
      </ion-item>
      <ion-item>
        <ion-toggle [checked]="true" (ionChange)="showRefreshButton = !showRefreshButton" justify="space-between">Bouton d'actualisation</ion-toggle>
      </ion-item>
      <ion-item *ngIf="!showRefreshButton" >
        <ion-label>Tirer vers le bas pour recharger la page</ion-label>
      </ion-item>
<!--      <ion-button (click)="setMonthSection()">test</ion-button>-->
    </ion-content>
  </ion-menu>


  <div class="ion-page" id="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-button fill="clear" class="datepicker-button" (click)="showDatePickers = !showDatePickers" >
<!--          {{viewDate.toLocaleString('fr', { month: 'long' })}}-->
          {{month}}
          <ion-icon slot="end" name="caret-down-outline" [ngClass]="{'rotate': showDatePickers}" ></ion-icon>
        </ion-button>
        <ion-button fill="clear" id="open-modal">
          <ion-icon name="search-outline"></ion-icon>
        </ion-button>
        <ion-button fill="clear">
          <ion-icon name="calendar-clear-outline"></ion-icon>
        </ion-button>
      </ion-toolbar>
      <div class="datetime-picker" [ngClass]="{'show' : showDatePickers}">
        <ion-datetime
          min="{{currentDate}}"
          locale="fr-FR"
          [isDateEnabled]="isWeekday"
          [(ngModel)]="selectedDateTime"
          (ionChange)="showDay()"
        ></ion-datetime>
      </div>
    </ion-header>
    <ion-content class="ion-padding" [scrollEvents]="true" (ionScroll)="onScroll($any($event))" >

      <ion-refresher slot="fixed" (ionRefresh)="reloadPage()">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>

      <ion-modal trigger="open-modal">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-button fill="clear" slot="start" (click)="dismissModal()">
                <ion-icon name="arrow-back-outline"></ion-icon>
              </ion-button>
              <ion-searchbar placeholder="Rechercher" (ionInput)="true" ></ion-searchbar>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            hello
          </ion-content>
        </ng-template>
      </ion-modal>

      <app-events-day *ngIf="calendarRTAI.data != undefined" [showRefreshButton]="showRefreshButton" (afterView)="setMonthSection()" ></app-events-day>

    </ion-content>
  </div>
</ion-app>
